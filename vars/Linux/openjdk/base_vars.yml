---
openjdk_root_page: https://jdk.java.net

java_default_path: "{{ (ansible_os_family == 'RedHat' and java_binary_type == 'tarball') | ternary('/usr/java', '/usr/lib/jvm') }}"

java_folder_ext_transport: >-
  {{ (java_major_version|int <= 8)
      | ternary(java_package + '1.' + java_major_version|string + '.0_' + java_minor_version|string,
                java_package + '-'  + java_major_version|string + '.'   + java_minor_version|string)
  }}

# Variables for RHEL specific (example java-11-openjdk-devel.x86_64)
# Define Centos arch specific for compatibility with oracle packages name
openjdk_arch_rhel: '{{ (java_arch == "x64") | ternary("x86_64", "i686") }}'
# java-11-openjdk.x86_64 is OpenJDK Runtime Environment
# java-11-openjdk-devel.x86_64 : OpenJDK Development Environment 11
# change variables for more compatibility jdk/jre
openjdk_package_rhel_spec: >-
  {{ (java_package == 'jdk')
      | ternary('openjdk-devel.' + openjdk_arch_rhel,
                      'openjdk.' + openjdk_arch_rhel)
  }}
# change java_major_version (if it 8) for rhel specific 1.8.0
openjdk_package_rhel_versions: >-
  {{ (java_major_version|int <= 8)
      | ternary('1.' + java_major_version|string + '.0',
                       java_major_version|string)
  }}

# full package name
openjdk_package: >-
  {{ (ansible_os_family == 'RedHat')
      | ternary('java-' + openjdk_package_rhel_versions|string + '-' + openjdk_package_rhel_spec|string,
                'openjdk-' + java_major_version|string + '-' + java_package)
  }}

# java_folder for packages from repositories
java_folder_repo_transport: >-
  {{ (ansible_os_family == 'RedHat')
      | ternary('java-' + openjdk_package_rhel_versions + '-openjdk-.+' + openjdk_arch_rhel,
                'java-' + java_major_version|string + '-openjdk-*')
  }}

java_folder: >-
  {{ (java_tarball_install | bool) | ternary(java_folder_ext_transport, java_folder_repo_transport) }}

java_artifact: '{{ (transport == "s3") | ternary(java_artifact_s3, (file_downloaded|default({})).dest | default(omit)) }}'
java_artifact_basename: '{{ java_artifact | basename }}'
